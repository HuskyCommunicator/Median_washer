# å¼€å‘å¸¸ç”¨æŒ‡ä»¤ (Development Guide)

è¿™é‡Œè®°å½•äº†åœ¨å¼€å‘å’Œç»´æŠ¤ MedianWasher Pro æ—¶å¸¸ç”¨çš„ PowerShell æŒ‡ä»¤ã€‚

## ğŸ 1. æœ¬åœ°è¿è¡Œ (Development)

åœ¨å¼€å‘ç¯å¢ƒä¸­ç›´æ¥è¿è¡Œ GUI ç•Œé¢ï¼š

```powershell
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd E:\code\game\xzb\Median_washer

# è¿è¡Œä¸»ç¨‹åº
python gui.py
```

## ğŸ“¦ 2. é¡¹ç›®æ‰“åŒ… (Build)

ä½¿ç”¨ PyInstaller å°†é¡¹ç›®æ‰“åŒ…æˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ (.exe)ã€‚

### æ ‡å‡†æ‰“åŒ…å‘½ä»¤
```powershell
# æ¨èä½¿ç”¨ python -m æ–¹å¼è°ƒç”¨ï¼Œé¿å…è·¯å¾„é—®é¢˜
python build_optimized.py
```

### æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶ (é‡æ–°æ‰“åŒ…å‰æ¨è)
å¦‚æœé‡åˆ°å¥‡æ€ªçš„æ‰“åŒ…é”™è¯¯ï¼ˆå¦‚ PermissionErrorï¼‰ï¼Œå…ˆè¿è¡Œæ¸…ç†å‘½ä»¤ï¼š

```powershell
# å¼ºåˆ¶åˆ é™¤ dist å’Œ build æ–‡ä»¶å¤¹
Remove-Item -Recurse -Force dist, build
```

æ‰“åŒ…å®Œæˆåï¼Œå¯æ‰§è¡Œæ–‡ä»¶ä½äºï¼š`dist\MedianWasher_Pro\MedianWasher_Pro.exe`

## ğŸ”§ 3. ç¯å¢ƒä¸ä¾èµ– (Dependencies)

### å®‰è£…ä¾èµ–
å¦‚æœåœ¨æ–°ç¯å¢ƒä¸­éƒ¨ç½²ï¼Œä½¿ç”¨ `requirements.txt` å®‰è£…æ‰€éœ€åº“ï¼š

```powershell
pip install -r requirements.txt
```

### å¯¼å‡ºå½“å‰ä¾èµ–
å¦‚æœæ·»åŠ äº†æ–°åº“ï¼Œæ›´æ–°ä¾èµ–åˆ—è¡¨ï¼š

```powershell
pip freeze > requirements.txt
```

## ğŸ§¹ 4. OCR èµ„æºç®¡ç†

### æ¸…ç†ä¸ç”¨çš„ OCR è¯­è¨€åŒ… (å‡å°ä½“ç§¯)
å¦‚æœåœ¨ `OCR\tessdata` ä¸‹è½½äº†è¿‡å¤šè¯­è¨€åŒ…ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åªä¿ç•™ä¸­è‹±æ–‡ï¼š

```powershell
# åˆ é™¤æ‰€æœ‰ jar åŒ…
Remove-Item "OCR\tessdata\*.jar" -Force

# åˆ é™¤æ‰€æœ‰ ttf å­—ä½“
Remove-Item "OCR\tessdata\*.ttf" -Force

# åˆ é™¤é™¤ä¸­æ–‡ã€è‹±æ–‡ã€OSDä»¥å¤–çš„æ‰€æœ‰è¯­è¨€åŒ… (éœ€è°¨æ…æ“ä½œï¼Œå»ºè®®æ‰‹åŠ¨ç¡®è®¤)
# ç¤ºä¾‹ï¼šåˆ é™¤å¾·è¯­åŒ…
Remove-Item "OCR\tessdata\deu.traineddata"
```

## ğŸš€ 5. å¸¸è§æ•…éšœæ’æŸ¥

**Q: è¿è¡Œ `python gui.py` æŠ¥é”™ `ModuleNotFoundError`?**
- æ£€æŸ¥æ˜¯å¦æ¿€æ´»äº†è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœä½¿ç”¨äº† venvï¼‰ã€‚
- æ£€æŸ¥æ˜¯å¦è¿è¡Œäº† `pip install -r requirements.txt`ã€‚

**Q: æ‰“åŒ…æ—¶æŠ¥é”™ `æ‹’ç»è®¿é—®`?**
- æ£€æŸ¥ `MedianWasher_Pro.exe` æ˜¯å¦æ­£åœ¨åå°è¿è¡Œã€‚
- ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æˆ– `taskkill /F /IM MedianWasher_Pro.exe` å…³é—­å®ƒã€‚

**Q: è¯†åˆ«æ–‡å­—å…¨æ˜¯ä¹±ç ?**
- æ£€æŸ¥ `OCR\tessdata` è·¯å¾„é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®è®¤ `chi_sim.traineddata` æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å®Œæ•´ã€‚
